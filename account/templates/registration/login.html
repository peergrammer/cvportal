{% extends "base.html" %}
{% block title %} Log-in {% endblock %}
{% block content %} <h1 class="h3 mb-3 font-weight-normal">Log-in</h1>
{% if form.errors %}
    <p>
        <small class="alert alert-danger" role="alert">
            Your username and password didn't match. Please try again.
        </small>
    </p>
    <p>
        <small id="emailHelp" class="form-text text-muted">
            If you don't have an account <a href="{% url 'register' %}">sign-up here</a>
        </small>
    </p>     
{% else %}    
    <p>
        <small id="emailHelp" class="form-text text-muted">
            Please use the following form to log-in. If you don't have an account <a href="{% url 'register' %}">sign-up here</a>
        </small>
    </p> 
{% endif %}  
<div class="login-form">    
    <form action="{% url 'login' %}" method="post">      
        {% csrf_token %} 
        <div class="form-group row">
            <label for="{{ form.username.id_for_label }}" class="col-sm-2 col-form-label">Username: </label>
            <div class="col-sm-10">
                {{ form.username }}  
            </div>
        </div>
        <div class="form-group row">
            <label for="{{ user_form.username.id_for_label }}" class="col-sm-2 col-form-label">Password: </label>
            <div class="col-sm-10">
                {{ form.password }}  
            </div> 
            <input type="hidden" name="next" value="{{ next }}" />  
        </div>
        <div class="form-group row">
            <div class="col-sm-10">
                <button type="submit" class="btn btn-primary">Login</button>
            </div>
        </div>  
    </form>
    <p>
        <small id="emailHelp" class="form-text text-muted">
            <a href="{% url 'password_reset' %}">Forgotten your password?</a>
        </small>
    </p>
</div>
<script src="/static/js/jquery-3.5.1.slim.min.js"></script>
<script type='text/javascript'>
    $(function() {
        $("#id_username").addClass( "form-control");
        $("#id_password").addClass( "form-control");
    })
</script>
{% endblock %}
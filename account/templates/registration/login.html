{% extends "base.html" %}
{% block title %} Log-in {% endblock %}
{% block content %} <h1 class="h3 mb-3 font-weight-normal">Log-in</h1>
{% if form.errors %}
    <p>
        <small class="alert alert-danger" role="alert">
            Your username and password didn't match. Please try again.
        </small>
    </p>
    <p>
        <small id="emailHelp" class="form-text text-muted">
            If you don't have an account <a href="{% url 'register' %}">sign-up here</a>
        </small>
    </p>     
{% else %}    
    <p>
        <small id="emailHelp" class="form-text text-muted">
            Please use the following form to log-in. If you don't have an account <a href="{% url 'register' %}">sign-up here</a>
        </small>
    </p> 
{% endif %}
<div class="login-form w-50 p-3">    
    <form action="{% url 'login' %}" method="post">      
        {% csrf_token %}
        <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1">Username: </span>
            </div>
            {{ form.username }}            
        </div>
        <div class="input-group mb-3">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1">Password: </span>
            </div>
            {{ form.password }}           
        </div>
        <div class="form-group row">
            <div class="col-sm-10">
                <button type="submit" class="btn btn-primary">Login</button>
            </div>
        </div>  
    </form>
    <p>
        <small id="emailHelp" class="form-text text-muted">
            <a href="{% url 'password_reset' %}">Forgotten your password?</a>
        </small>
    </p>
</div>
<script src="/static/js/jquery-3.5.1.slim.min.js"></script>
<script type='text/javascript'>
    $(function() {
        $("#id_username").addClass( "form-control");
        $("#id_password").addClass( "form-control");

        $("#id_username").attr({
            "placeholder": "Username",
            "aria-label": "Username",
            "aria-describedby": "basic-addon1"
        });
        $("#id_password").attr({
            "placeholder": "Password",
            "aria-label": "Password",
            "aria-describedby": "basic-addon1"
        });
    })
</script>
{% endblock %}